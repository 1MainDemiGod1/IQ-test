<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>IQ-–¢–µ—Å—Ç</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
</head>
<body>
  <div style="display:flex;flex-direction:column;align-items:center;gap:18px;">
    <img src="favicon.svg" alt="IQ" style="width:64px;height:64px;margin-bottom:8px;filter:drop-shadow(0 2px 8px #b6aee7);">
    <h1 id="test-title">IQ-–¢–µ—Å—Ç</h1>
  </div>
  <form id="testForm" method="post" action="/submit">
    <div id="question-slider" class="question-slider"></div>
    <div class="slider-controls">
      <button type="button" id="prevBtn" class="slider-btn">–ù–∞–∑–∞–¥</button>
      <button type="button" id="nextBtn" class="slider-btn">–î–∞–ª–µ–µ</button>
      <button type="submit" id="finishBtn" class="slider-btn" style="display:none;">–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç</button>
    </div>
  </form>
  <div id="test-complete" class="result-block" style="display:none; text-align:center; margin-top:40px;">
    <div class="result-icon">üìß</div>
    <h2>–¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à—ë–Ω!</h2>
    <p class="result-message">–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –≤–∞—à—É –ø–æ—á—Ç—É.</p>
    <a href="/tests.html" class="test-btn">–ö –≤—ã–±–æ—Ä—É —Ç–µ—Å—Ç–∞</a>
  </div>
  <script src="test.js"></script>
  <script>
    // –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫—Ä–∞—Å–∏–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ—Å—Ç–∞
    if (window.location.pathname === '/result') {
      document.getElementById('testForm').style.display = 'none';
      document.getElementById('test-complete').style.display = 'block';
    }
    // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
    const titles = {
      '/test': 'IQ-–¢–µ—Å—Ç',
      '/test-math': '–ü—Ä–∞–∫—Ç–∏–∫—É–º –ø–æ —Ä–µ—à–µ–Ω–∏—é –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á',
      '/test-analysis': '–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑',
      '/test-db': '–û—Å–Ω–æ–≤—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ò–° –∏ –ë–î',
      '/test-numerical': '–ú–µ—Ç–æ–¥—ã –≤—ã—á–∏—Å–ª–µ–Ω–∏–π',
      '/test-physmath': '–£—Ä–∞–≤–Ω–µ–Ω–∏—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ñ–∏–∑–∏–∫–∏',
      '/test-softdev': '–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ü–û',
      '/test-modeling': '–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö',
      '/test-infoman': '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç',
      '/test-worldinfo': '–ú–∏—Ä–æ–≤—ã–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã',
      '/test-control': '–¢–µ–æ—Ä–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è'
    };
    const t = titles[window.location.pathname];
    if (t) {
      document.getElementById('test-title').textContent = t;
      document.title = t;
    }
    // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω (—Å–µ—Ä–≤–µ—Ä –Ω–µ –æ—Ç–¥–∞—Å—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É, –Ω–æ –µ—Å–ª–∏ –≤–¥—Ä—É–≥ –æ–Ω–∞ –∑–∞–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∞), –ø—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ cookie 'token'.
    // –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω–∞ –Ω–µ—Ç, –æ—á–∏—â–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é –∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏–º –Ω–∞ /
    (function() {
      function getCookie(name) {
        const value = `; ${document.cookie}`;
        const parts = value.split(`; ${name}=`);
        if (parts.length === 2) return parts.pop().split(';').shift();
      }
      if (!getCookie('token')) {
        window.location.replace('/');
        window.history.pushState(null, '', '/');
      }
    })();
  </script>
</body>
</html> 